"use strict";var btn_alias="img";function imagesLoadedAndLayout(n){var e=new Masonry(".img_wall",{itemSelector:".img_wall .img-loaded",columnWidth:24,gutter:20,percentPosition:!0,transitionDuration:"0.8s"});return new Promise(o=>{imagesLoaded(n).on("progress",(n,o)=>{o.img.parentNode.classList.add("img-loaded"),e.appended(o.img.parentNode),e.layout()}).on("done",()=>{e.once("layoutComplete",()=>{o()})})})}function img_carousel(n){n=n||3e4,$("html, body").stop().animate({scrollTop:$(".bouncingLoader").offset().top},n,function(){$(this).animate({scrollTop:0},n,function(){img_carousel(n)})})}function img_scrolltop(n){n=n||$("html, body"),check_browser("Safari")?n.stop().animate({scrollTop:0},450):n.stop().scrollTop(0)}function read_post(n){var e=("undefined"==typeof hj_username?"hearty":hj_username)+"/"+(n||106221);check_hjapp("Android")?hj_href(e):open(location.origin+"/"+e,"_blank")}hj_getScript("//cdn.jsdelivr.net/combine/npm/@webcreate/infinite-ajax-scroll@3.0.0-beta.5/dist/infinite-ajax-scroll.min.js,npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js,npm/imagesloaded@4.1.4/imagesloaded.pkgd.min.js").then(function(){$(function(){var n=new InfiniteAjaxScroll(".img_wall",{item:".img_wall figure",next:".pager_next",pagination:".pager",bind:!1,spinner:{element:".bouncingLoader",delay:600}});n.on("append",n=>{let e=n.appendFn;n.appendFn=((n,o,i)=>new Promise(a=>{e(n,o,i),imagesLoadedAndLayout(n).then(a)}))}),n.on("appended",n=>{0==n.items.length&&$(".no_more").fadeIn()}),imagesLoadedAndLayout(".img_wall").then(()=>{n.bind()}),$(".pager").hide().delay(1e3).queue(function(){$(".img .vip_only").length>0&&img_carousel(),$(this).dequeue()})})}),$(function(){$(".mh-head .left").on("click",function(){nav_toggle($(".menu"),!0)}),$(".nav_btn[data-page_up]").on("click",function(){img_scrolltop()}),$(".nav_btn[data-add], .img_empty").on("click",function(){hj_href("d?img=1")}),$(".vip_only").on("click",function(){hj_href("d?plans=1")})});