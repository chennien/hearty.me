"use strict";var btn_alias="img";function imagesLoadedAndLayout(a){var b=new Masonry(".img_wall",{itemSelector:".img_wall .img-loaded",columnWidth:24,gutter:20,percentPosition:!0,transitionDuration:"0.8s"});return new Promise(c=>{imagesLoaded(a).on("progress",(c,a)=>{a.img.parentNode.classList.add("img-loaded"),b.appended(a.img.parentNode),b.layout()}).on("done",()=>{b.once("layoutComplete",()=>{c()})})})}function img_carousel(a){a=a||3e4,$("html,body").stop().animate({scrollTop:$(".bouncingLoader").offset().top},a,function(){$(this).animate({scrollTop:0},a,function(){img_carousel(a)})})}function img_scrolltop(a){a=a||$("html,body"),check_browser("Safari")?a.stop().animate({scrollTop:0},450):a.stop().scrollTop(0)}function read_post(a){if((a=a||0)<1||"undefined"==typeof hj_username)hj_href("account");else{var b=hj_username+"/"+a;/iOS|Android/i.test(check_hjapp())?window.open(location.origin+"/"+b,"_blank"):hj_href(b)}}hj_getScript("//cdn.jsdelivr.net/combine/npm/@webcreate/infinite-ajax-scroll@3.1.0-beta.1/dist/infinite-ajax-scroll.min.js,npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js,npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js").then(function(){$(function(){var a=new InfiniteAjaxScroll(".img_wall",{item:".img_wall figure",next:".pager_next",pagination:".pager",bind:!1,spinner:{element:".bouncingLoader",delay:600}});a.on("append",function(a){let b=a.appendFn;a.appendFn=(a,c,d)=>new Promise(e=>{b(a,c,d),imagesLoadedAndLayout(a).then(e)})}),a.on("appended",function(a){0==a.items.length&&$(".no_more").fadeIn()}),imagesLoadedAndLayout(".img_wall").then(function(){a.bind()}),$(".pager").hide().delay(1e3).queue(function(){$(".img .vip_only").length>0&&img_carousel(),$(this).dequeue()})})}),$(function(){$(".mh-head .left").on("click",function(){nav_toggle($(".menu"),!0)}),$(".nav_btn[data-gotop]").on("click",function(){img_scrolltop()}),$(".nav_btn[data-add],.img_empty").on("click",function(){hj_href("d?img=1")}),$(".vip_only").on("click",function(){hj_href("d?plans=1")}),$(document).on("click",".img_wall img[data-post_id]",function(){read_post(this.dataset.post_id)}),post_font(),document.title=_h("I-title")+" | \u{1F49D} Hearty Journal \u6EAB\u5EA6\u65E5\u8A18"})