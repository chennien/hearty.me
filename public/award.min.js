"use strict";var btn_alias="award";function publish_post(){try{check_hjapp("Android")?publish_post_redirect():($(".mask").show(),hj_fcm_init(publish_post_redirect))}catch(t){publish_post_redirect()}}function publish_post_redirect(){$(".mask").hide(),hj_href("award/post.php")}function cert_request(){alertify.set({labels:{ok:"<i class='fas fa-chevron-circle-right'></i> 下一步",cancel:"取消"},buttonReverse:!1}),alertify.prompt("<i class='fal fa-file-certificate'></i> 申請參賽證明｜填寫真實姓名",function(t,e){t&&(e=e||"",alertify.set({labels:{ok:"<i class='fas fa-check-circle'></i> 申請",cancel:"取消"},buttonReverse:!1}),alertify.prompt("<i class='fal fa-info-circle'></i> 本次投稿的主題：",function(t,a){t&&(msg("<i class='fal fa-diploma'></i> 證書檔下載中","OK"),cert_generate(e,a||""),hj_mixpanel("Award Cert"),ga_event_push("Award Cert"))}),alertify_input_custom({placeholder:"投稿文章標題",minlength:1,maxlength:20}))}),alertify_input_custom({placeholder:"您的大名",minlength:2,maxlength:16}),"jsPDF"in window||hj_getScript_gh({repo:"MrRio/jsPDF",path:"dist/jspdf.min.js",commit:"2c5e6c7cb0ccaaabdbf7a823cf5bb076b57ef9b0"})}function cert_generate(t,e){t=t||"楊珈宜",e=e||"溫度日記",alertify.success("<i class='fal fa-arrow-alt-to-bottom'></i> 開始下載");var a=new jsPDF({orientation:"p",unit:"mm",format:"a4",putOnlyUsedFonts:!0}),i=a.internal.pageSize.getWidth(),n=a.internal.pageSize.getHeight(),r=(new Date).getFullYear()+" 溫度日記《小確幸》線上徵文活動";a.setProperties({title:r+"："+t,subject:r+"："+t,author:"溫度日記",keywords:"溫度日記, 日記, 徵文活動",creator:"溫度日記"}),a.addImage("https://i0.wp.com/i.hearty.app/SJyu20Y.jpg","JPEG",0,0,i,n),a.addImage("https://i0.wp.com/hearty.me/images/hr/hr05m.png","PNG",10,10,190,3.25),a.addFont("https://cdn.jsdelivr.net/gh/justfont/open-huninn-font@v1.1/font/jf-openhuninn-1.1.ttf","openhuninn","normal"),a.setFont("openhuninn","normal"),a.setFontSize(22),a.setTextColor("#444"),a.text(r,100,30,{align:"center",charSpace:1}),a.setFontSize(28),a.text("參賽證明書",100,50,{align:"center",charSpace:2}),a.setFontSize(18),a.text("茲證明　"+t+"　同學，",10,90,{align:"justify",charSpace:0}),a.text("於 "+(new Date).toLocaleDateString()+" 參加由溫度日記舉辦之 《小確幸》線上徵文活動",10,100,{align:"justify",charSpace:0}),a.text("• 投稿主題：「"+e+"」",10,120,{align:"justify",charSpace:0}),a.textWithLink("• 活動網頁：hearty.me/award",10,130,{align:"justify",charSpace:0,url:"https://hearty.me/award"}),a.addImage("https://i0.wp.com/hearty.me/award/images/cert_banner.png","PNG",10,150,174,74),a.addImage("https://i0.wp.com/hearty.me/award/images/cert_stamp.png","PNG",i-90,n-60,55,55),a.setFontSize(12),a.textWithLink("溫度日記，療癒系心情日記 App",100,n-20,{align:"center",charSpace:0,url:"https://hearty.me"}),a.addImage("https://i0.wp.com/hearty.me/images/hr/hr05m.png","PNG",10,n-15,190,3.25),a.save("溫度日記_"+t+".pdf")}(navigator.userAgent||"").match(/MSIE|Trident|Edge/)&&msg("<i class='fal fa-exclamation-circle'></i> IE 太舊囉，請改用其他瀏覽器<br>建議使用：<i class='fab fa-chrome'></i> Google Chrome"),$(function(){post_font(),new SlideNav({changeHash:!0}),$(".fa-home-alt").on("click",function(){nav_toggle($(".menu"),!0)}),$(".apply_btn").on("click",publish_post),$(".cert_request").on("click",cert_request),$(".mask").on("click",function(){$(this).fadeOut()});var t=$(".nav_btn.fa-chevron-up");$(document).scroll(function(){$(this).scrollTop()>200?t.stop().fadeIn("fast"):t.stop().fadeOut("fast")}),t.on("click",function(){$(document).scrollTop(0)}).hide(),$("footer [data-rate]").on("click",hj_rating),getUrlPara("cert")&&cert_request()}),leave_InAppBrowser();