"use strict";var btn_alias="award";function award_apply(e){e=e||publish_post;try{check_hjapp("Android")?e():($(".mask").show(),hj_fcm_init(e))}catch(t){e()}}function publish_post(){$(".mask").hide(),(new Date).toISOString().slice(0,10).replace(/-/g,"")>20200601?hj_go_href("hj-award"):hj_href("award/post.php"),fb_event_push(!1,"Lead")}function cert_request(){alertify.set({labels:{ok:"<i class='fas fa-chevron-circle-right'></i> 下一步",cancel:"取消"},buttonReverse:!1}),alertify.prompt("<i class='fal fa-file-certificate'></i> 申請參賽證明｜填寫真實姓名",function(e,t){e&&(t=htmlspecialchars(t||""),alertify.set({labels:{ok:"<i class='fas fa-check-circle'></i> 申請",cancel:"取消"},buttonReverse:!1}),alertify.prompt("<i class='fal fa-info-circle'></i> 本次投稿的主題：",function(e,a){e&&(a=htmlspecialchars(a||""),msg("<i class='fal fa-diploma'></i> 證書檔下載中","<i class='fas fa-star'></i> 給團隊五顆星，鼓勵她們",function(){window.open(is_touch_device()?"//g.co/kgs/mpL8GH#lkt=LocalPoiReviews":"//goo.gl/kQ7KbC","_blank"),alertify.set({labels:{ok:"先不用",cancel:"<i class='fas fa-arrow-circle-right'></i> 帳號資訊"},buttonReverse:!0}),alertify.confirm("<i class='fal fa-user'></i> 提醒︰記得認證 Email 及手機，確保參賽資格完整",function(e){hj_href(e?"d":"account")})}),cert_generate(t,a),hj_update({action:"gform_post",uri:"1FAIpQLSdxyaMux3bC_QDoCGSOdGBfCD2bdffQRwlqOKmRRunvzs0DiQ",data:$.param({"entry.783231433":"[hj_user_id]","entry.1564811012":"[hj_username]",emailAddress:"[hj_email]","entry.384841463":t,"entry.136103873":a,"entry.1994102474":(new Date).toISOString().split("T")[0]})}),hj_mixpanel("Award Cert"),ga_event_push("Award Cert"))}),alertify_input_custom({placeholder:"投稿文章標題",minlength:1,maxlength:20}))}),alertify_input_custom({placeholder:"您的大名",minlength:2,maxlength:16}),"jsPDF"in window||hj_getScript_gh({repo:"MrRio/jsPDF",path:"dist/jspdf.min.js",commit:"3c195a50ea88e54419875cf442acf1fe8a1c5386"})}function cert_generate(e,t){e=e||"楊珈宜",t=t||"溫度日記",alertify.success("<i class='fal fa-arrow-alt-to-bottom'></i> 開始下載");var a=new jsPDF({orientation:"p",unit:"mm",format:"a4",putOnlyUsedFonts:!0}),i=a.internal.pageSize.getWidth(),n=a.internal.pageSize.getHeight(),r=(new Date).getFullYear()+" 溫度日記《小確幸》線上徵文活動";a.setProperties({title:r+"："+e,subject:r+"："+e,author:"溫度日記",keywords:"溫度日記, 日記, 徵文活動",creator:"溫度日記"}),a.addImage("https://i0.wp.com/i.hearty.app/SJyu20Y.jpg","JPEG",0,0,i,n),a.addImage("https://i0.wp.com/hearty.me/images/hr/hr05m.png","PNG",10,10,190,3.25),a.addFont("https://cdn.jsdelivr.net/gh/justfont/open-huninn-font@v1.1/font/jf-openhuninn-1.1.ttf","openhuninn","normal"),a.setFont("openhuninn","normal"),a.setFontSize(22),a.setTextColor("#444"),a.text(r,100,30,{align:"center",charSpace:1}),a.setFontSize(28),a.text("參賽證明書",100,50,{align:"center",charSpace:2}),a.setFontSize(18),a.text("茲證明　"+e+"　同學，",10,90,{align:"justify",charSpace:0}),a.text("於 "+(new Date).toLocaleDateString()+" 參加由溫度日記舉辦之 《小確幸》線上徵文活動",10,100,{align:"justify",charSpace:0}),a.text("• 投稿主題：「"+t+"」",10,120,{align:"justify",charSpace:0}),a.textWithLink("• 活動網頁：hearty.me/award",10,130,{align:"justify",charSpace:0,url:"https://hearty.me/award"}),a.addImage("https://i0.wp.com/hearty.me/award/images/cert_banner.png","PNG",10,150,174,74),a.addImage("https://i0.wp.com/hearty.me/award/images/cert_stamp.png","PNG",i-90,n-60,55,55),a.setFontSize(12),a.textWithLink("溫度日記，療癒系心情日記 App",100,n-20,{align:"center",charSpace:0,url:"https://hearty.me"}),a.addImage("https://i0.wp.com/hearty.me/images/hr/hr05m.png","PNG",10,n-15,190,3.25),a.save("溫度日記_"+e+".pdf")}(navigator.userAgent||"").match(/MSIE|Trident|Edge/)&&msg("<i class='fal fa-exclamation-circle'></i> IE 太舊囉，請改用其他瀏覽器<br>建議使用：<i class='fab fa-chrome'></i> Google Chrome"),$(function(){post_font(),new SlideNav({changeHash:!0}),$(".fa-home-alt").on("click",function(){nav_toggle($(".menu"),!0)}),$(".apply_btn").on("click",function(){award_apply(publish_post)}),$(".cert_request").on("click",cert_request),$(".mask").on("click",function(){$(this).fadeOut()});var e=$(".nav_btn.fa-chevron-up");$(document).scroll(function(){$(this).scrollTop()>200?e.stop().fadeIn("fast"):e.stop().fadeOut("fast")}),e.on("click",function(){$(document).scrollTop(0)}).hide(),$("footer [data-rate]").on("click",hj_rating),getUrlPara("cert")&&cert_request()}),leave_InAppBrowser();