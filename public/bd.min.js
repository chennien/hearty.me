"use strict";function hj_preview(e){var t=$("body"),i=$(".hj_preview"),a=i.find("iframe");e?(a.attr({src:a.attr("data-url")||"//docs.google.com/forms/d/e/1FAIpQLSdPjxV9HnVqEK6jlzzDsRppuz5H-7DyA4_5Qn3KkoYSouIyKA/viewform?embedded=true"}).addClass("loading"),i.fadeIn(),t.css({"overflow-y":"hidden","touch-action":"none"})):(i.fadeOut(),t.css({"overflow-y":"auto","touch-action":"auto"}))}function hj_intro(){window.open("//"+(is_touch_device()?"get":"try")+".hearty.me/?utm_source=website&utm_medium=footer&utm_campaign=bd","_blank")}function hj_share_page(){var e="https://go.hearty.me/BD";"share"in navigator?navigator.share({title:document.title,url:e}).catch(e=>{}):!1!==check_hjapp()?location.assign("//hearty.me/wv?s="+encodeURIComponent(e.replace(/(^\w+:|^)\/\//,""))):(alertify.set({labels:{ok:"取消",cancel:"<i class='fas fa-copy'></i> 複製"},buttonReverse:!0}),alertify.prompt("<i class='fal fa-link'></i> 分享活動網址：",function(e){e||hj_copy($("#alertify .alertify-text"))},e),alertify_input_custom({type:"url",placeholder:e,onclick:"hj_copy($(this))"},{cursor:"copy"})),hj_copy_text(e)}function redeem_tutorial(e){var t=$(".redeem_tutorial"),i={1:"一、手動輸入序號",2:"二、點選兌換連結"};if(e)if(t.length>0)t.fadeIn();else{var a=["//i.hearty.app/b/videos/voucher_redeem","?o=1"+(check_OS("iOS")?"#t=0.001":"")];$("<section>",{class:"redeem_tutorial",html:Object.keys(i).map(function(e){return $("<div>",{title:i[e],html:$("<video>",{controls:"",muted:"",preload:"",html:$("<source>",{src:a[0]+e+".webm"+a[1],type:"video/webm"}).add($("<source>",{src:a[0]+e+".mp4"+a[1],type:"video/mp4"}))}).on("play",function(){this.requestFullscreen&&this.requestFullscreen()}).on("click",function(e){e.stopPropagation()})})})}).on("click",function(){redeem_tutorial(!1)}).appendTo($("body"))}else t.fadeOut()}function hj_testimonials(){$("#rplg").length>0&&(window.rplg_embed=[{id:311}],hj_getScript_gh({path:"public/plugins/richplugins.embed.min.js",commit:"1.0.38"}))}$(function(){$(".fa-home-alt").on("click",function(){nav_toggle($(".menu"),!0)}),$(".user").on("click",function(){msg("<i class='fal fa-door-open'></i> 請先登入"),hj_href("?r=/bd/#signin")}),$("[data-ask]").on("click",function(){alertify.set({labels:{ok:"<i class='fas fa-file-alt'></i> 客服表單",cancel:"<i class='fas fa-envelope'></i> Email 聯繫"},buttonReverse:!1}),alertify.confirm("<i class='fal fa-info-circle'></i> 連繫方式：",function(e){if(e)hj_preview(!0);else{var t="8gcmof7k6@relay.firefox.com";alertify.set({labels:{ok:"<i class='fas fa-copy'></i> 複製",cancel:"否"},buttonReverse:!1}),alertify.prompt("<i class='fal fa-envelope'></i> 溫度站長信箱：",function(e){e&&(hj_copy($("#alertify .alertify-text")),msg("<i class='fal fa-copy'></i> 已複製："+t))},t),alertify_input_custom({type:"email",placeholder:t,onclick:"hj_copy($(this))"},{cursor:"copy","letter-spacing":"1px"}),hj_copy_text(t)}})}),$("[data-entry]").on("click",function(){hj_href("bd/vouchers.php")}),$("[data-redeem]").on("click",function(){redeem_tutorial(!0)}),$(".hj_preview").on("click",function(){hj_preview(!1)}).find("iframe").on("load",function(){$(this).removeClass("loading")}),$(".bd_brands img").on("click",function(){msg('<img src="'+$(this).attr("src")+'" alt="'+$(this).attr("alt")+'">'),window.open("//"+($(this).attr("data-url")||"hearty.me"),"_blank")}),$(".rating>div,#rplg").on("click",function(){window.open("//get.hearty.me/reviews","_blank")}),$(".teammates").on("click",function(){hj_href("c/%E5%81%9A%E7%84%A6%E6%85%AE%E4%B8%96%E4%BB%A3%E7%9A%84%E6%9A%96%E5%BF%83%E9%99%AA%E4%BC%B4")}),$(".nav_btn.fa-link").on("click",hj_share_page),$(".bd_brands div").delay(100).queue(function(){$(this).slick({autoplay:!0,infinite:!0,slidesToShow:3,slidesToScroll:3,arrows:!1,draggable:!1,swipe:!1,touchMove:!0,speed:900,centerPadding:"0px",pauseOnHover:!1}).on("wheel",function(e){e.preventDefault(),$(this).slick("slick"+(e.originalEvent.deltaY<0?"Next":"Prev"))}).dequeue()}),leave_InAppBrowser(),post_font(),hj_testimonials(),getUrlPara("ask")&&(hj_preview(!0),msg("<i class='fal fa-store'></i> 您尚未加入合作夥伴計畫，敬請填寫申請資料")),hj_getScript_gh({path:"public/plugin.smallchat.min.js",commit:"1.0.38"})});