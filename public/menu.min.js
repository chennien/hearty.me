"use strict";var _h$=_h$||{};function menu_init(){var e;(e=jQuery)(document).ready(function(){var a={},n=e(".hj-main"),t=e(".editor_toolbelt"),o=check_OS("Android")?0:400;a.menu=e("nav.menu").mmenu({navbar:{add:!1,title:_h("m-nav-1")},onClick:{close:!0},extensions:["fx-menu-slide","pagedim-black","position-front"]},{offCanvas:{pageSelector:".hj-page"},transitionDuration:o}),e(".catalog[data-mobile]").length>0?(a.catalog=e("nav.catalog[data-mobile]").mmenu({navbar:{add:!1,title:_h("m-nav-2")},extensions:["fx-menu-slide","pagedim-black"]},{offCanvas:{pageSelector:".hj-page"},transitionDuration:o}),a.stickerbook=e("nav.stickerbook").mmenu({navbar:{add:!1},extensions:["fx-menu-slide","pagedim-white","position-right"]},{offCanvas:{pageSelector:".hj-page"},transitionDuration:o}),e("nav").each(function(){e(this).data("mmenu")&&e(this).data("mmenu").bind("open:finish",function(){n.addClass("blur"),t.fadeTo(0,0)}).bind("close:finish",function(){n.removeClass("blur"),t.fadeTo("slow",1),e(this).hasClass("menu")&&open_book(!0)})})):e("nav").each(function(){e(this).data("mmenu")&&e(this).data("mmenu").bind("open:finish",function(){n.addClass("blur")}).bind("close:finish",function(){n.removeClass("blur")})}),menu_apps(),"function"==typeof a2hs_init&&a2hs_init(),"undefined"!=typeof btn_alias&&e("nav.menu li[data-btn='"+btn_alias+"']").attr("data-active","").find("a").removeAttr("href"),e(document).on("click","nav.menu [data-href]",function(){hj_href(this.dataset.href)}),getcookie("hearty_children")&&e(".menu [data-btn='home'],.menu [data-btn='feed']").remove(),fb_deferred_load()})}function signout(e){null==e?(alertify.set({labels:{ok:_h("m-no"),cancel:'<i class="fas fa-sign-out-alt"></i> '+_h("m-signout-0")},buttonReverse:!1}),alertify.confirm('<i class="fal fa-door-open"></i> '+_h("m-signout-1"),function(e){e||(ga_event_push("Sign Out",{event_category:"Auth",event_label:"Sign Out"}),window.sessionStorage.clear(),setcookie("hearty_screenlock","",1),hj_href("signout"))})):(window.sessionStorage.clear(),setcookie("hearty_screenlock","",1),hj_href("signout"))}function campaign__page(e){$(".hj-campaign").length>0?campaign__load_page(e):hj_href("c/"+e)}function nav_toggle(e,a){a?e.data("mmenu").open():e.data("mmenu").close()}function edition_toggle(){location.href=location.href.replace(/classic\//g,"")}function menu_apps(){var e=check_OS(),a=is_touch_device();check_hjapp()?$("[data-os='iOS'],[data-os='Android']").remove():a?$("[data-os='"+("iOS"==e?"Android":"iOS")+"']").remove():check_hjpwa()?$("[data-os='Windows'],[data-os='Macintosh']").remove():$("[data-os='"+("Macintosh"==e?"Windows":"Macintosh")+"']").remove()}function rss_url(e){e="https://rss.hearty.me/"+e,alertify.set({labels:{ok:'<i class="fas fa-copy"></i> '+_h("m-copy-0"),cancel:'<i class="fas fa-share-alt"></i> '+_h("m-forward")},buttonReverse:!1}),alertify.prompt("<i class='far fa-rss'></i> "+_h("m-rss-1"),function(a){!a&&"share"in navigator?navigator.share({title:_h("m-rss-0")+document.title,url:e}).catch(e=>{}):msg('<i class="fal fa-copy"></i> '+_h("m-copy-1")+"<small><u>"+e+"</u></small>"),hj_copy_text(e)},e),alertify_input_custom({type:"url",placeholder:e,onclick:"hj_copy($(this))"},{cursor:"copy","letter-spacing":"1px"});var a="RSS Feed URL";hj_mixpanel(a),ga_event_push(a,{event_category:"Posts",event_label:a})}function fb_deferred_load(){setTimeout(function(){if(window.FB&&"XFBML"in FB){var e=$("[data-fb-load]");e.length>0&&e.each(function(){try{FB.XFBML.parse($(this).get(0))}catch(e){}})}},5e3)}_h$.m=_h$.m||{url:["//go.hearty.me/hjfaq","//go.hearty.me/hjse"],no:"否",nav:["主選單","溫度日記","我的日記"],signout:["登出","確定要登出嗎？"],rss:["RSS 訂閱：","我的 RSS 訂閱網址 (僅限於公開日記)："],copy:["複製網址","已複製："],forward:"傳送",avatar:["我的帳號","登入","VIP版"],menu:["今日經文","Alice 說晚安","投稿日記牆","我的日記","相片集","升級 VIP","使用指南","關於我們","登出","Windows 電腦版","macOS 應用程式","手機 App","給溫度 5顆小星星","RSS 訂閱 (公開文章)","開發除錯"]},menu_init();try{window.fbAsyncInit=function(){FB.init({appId:0x60715e7e0baa,autoLogAppEvents:!0,xfbml:!1,version:"v3.3"})},function(e,a,n){var t,o=e.getElementsByTagName(a)[0];e.getElementById(n)||((t=e.createElement(a)).id=n,t.src="//connect.facebook.net/zh_TW/sdk/xfbml.customerchat.js",o.parentNode.insertBefore(t,o))}(document,"script","facebook-jssdk")}catch(e){}