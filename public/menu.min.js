"use strict";function menu_init(){var e;(e=jQuery)(document).ready(function(){var n={},a=e(".hj-main"),t=e(".editor_toolbelt"),o=check_OS("Android")?0:400;n.menu=e("nav.menu").mmenu({navbar:{add:!1,title:_h("m-nav-1")},onClick:{close:!0},extensions:["fx-menu-slide","pagedim-black","position-front"]},{offCanvas:{pageSelector:".hj-page"},transitionDuration:o}),e(".catalog[data-mobile]").length>0?(n.catalog=e("nav.catalog[data-mobile]").mmenu({navbar:{add:!1,title:_h("m-nav-2")},extensions:["fx-menu-slide","pagedim-black"]},{offCanvas:{pageSelector:".hj-page"},transitionDuration:o}),n.stickerbook=e("nav.stickerbook").mmenu({navbar:{add:!1},extensions:["fx-menu-slide","pagedim-white","position-right"]},{offCanvas:{pageSelector:".hj-page"},transitionDuration:o}),e("nav").each(function(){e(this).data("mmenu")&&e(this).data("mmenu").bind("open:finish",function(){a.addClass("blur"),t.fadeTo(0,0)}).bind("close:finish",function(){a.removeClass("blur"),t.fadeTo("slow",1),e(this).hasClass("menu")&&open_book(!0)})})):e("nav").each(function(){e(this).data("mmenu")&&e(this).data("mmenu").bind("open:finish",function(){a.addClass("blur")}).bind("close:finish",function(){a.removeClass("blur")})}),menu_apps(),"function"==typeof a2hs_init&&a2hs_init(),"undefined"!=typeof btn_alias&&e("nav.menu li[data-btn='"+btn_alias+"']").attr("data-active","").find("a").removeAttr("href"),e(document).on("click","nav.menu [data-href]",function(){hj_href(this.dataset.href)}),/zh/i.test(hj_lang())&&"1"!=getcookie("hearty_children")||e(".menu [data-btn='home'],.menu [data-btn='feed']").remove(),fb_deferred_load()})}function signout(e){e?(window.sessionStorage.clear(),setcookie("hearty_screenlock","",1),hj_href("signout")):(alertify.set({labels:{ok:_h("m-no"),cancel:'<i class="fas fa-sign-out-alt"></i> '+_h("m-signout-0")},buttonReverse:!1}),alertify.confirm('<i class="fal fa-door-open"></i> '+_h("m-signout-1"),function(e){e||(ga_event_push("Sign Out",{event_category:"Auth",event_label:"Sign Out"}),window.sessionStorage.clear(),setcookie("hearty_screenlock","",1),hj_href("signout"))}))}function campaign__page(e){$(".hj-campaign").length>0?campaign__load_page(e):hj_href("c/"+e)}function nav_toggle(e,n){n?e.data("mmenu").open():e.data("mmenu").close()}function edition_toggle(){location.href=location.href.replace(/classic\//g,"")}function menu_apps(){var e=check_OS(),n=is_touch_device();/iOS|Android/i.test(check_hjapp())?$("[data-os='iOS'],[data-os='Android']").remove():n?$("[data-os='"+("iOS"==e?"Android":"iOS")+"']").remove():check_hjpwa()||check_hjapp("macOS")?$("[data-os='Windows'],[data-os='Macintosh']").remove():$("[data-os='"+("Macintosh"==e?"Windows":"Macintosh")+"']").remove()}function fb_deferred_load(){setTimeout(function(){if(window.FB&&"XFBML"in FB){var e=$("[data-fb-load]");e.length>0&&e.each(function(){try{FB.XFBML.parse($(this).get(0))}catch(e){}})}},5e3)}menu_init();try{window.fbAsyncInit=function(){FB.init({appId:0x60715e7e0baa,autoLogAppEvents:!0,xfbml:!1,version:"v3.3"})},function(e,n,a){var t,o=e.getElementsByTagName(n)[0];e.getElementById(a)||((t=e.createElement(n)).id=a,t.src="//connect.facebook.net/zh_TW/sdk/xfbml.customerchat.js",o.parentNode.insertBefore(t,o))}(document,"script","facebook-jssdk")}catch(e){}